{% from "macros/alert.html" import alert %}
{% from "macros/repeatingGrid.html" import storeMinionsGrid, questGrid, minionsGrid %}

{% extends 'base.html' %}
{% block headBlock %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/game.css') }}">
{% endblock %}

{% block contentBlock %}
<aside class="sidebar">
    <div class="hoardImage"></div>
    <section class="goldDisplay">
        <p id="gold">{{ gold }}</p>
        <p>Gold</p>
    </section>
    <div class="storeButton">Visit the Store</div>
</aside>
<div class="game">
    <section class="questsBar">
        {{ questGrid(quests, userQuests) }}
    </section>
    <section class="minions">
        {{ minionsGrid(minions, userMinions) }}
    </section>
    
    <div class="store hidden">
        <section class="storeMinions">
            <p class="storeGridHeader">Minions</p>
            <div class="storeMinionsGrid">
                {{ storeMinionsGrid(store_minions, 16) }}
            </div>
        </section>
        <section class="storeUpgrades">
            <p class="storeGridHeader">Upgrades</p>
            <div class="storeUpgradesGrid">
                {% for i in range(8) %}
                <div class="storeUpgradesItem hidden"></div>
                {% endfor %}
            </div>
        </section>
    </div>
</div>
{{ alert(session.get("email")) }}
{% endblock %}

{% block scriptsBlock %}
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script src="{{ url_for('static', filename='js/base.js') }}"></script>
<script src="{{ url_for('static', filename='js/autosave.js') }}"></script>
<script src="{{ url_for('static', filename='js/minion-intervals.js') }}"></script>
{% endblock %}